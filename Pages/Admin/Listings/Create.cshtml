@page
@model LocalBakery.Pages.Admin.Listings.CreateModel
@{
  ViewData["Title"] = "Add Listing";
}

<section style="display:grid; gap:20px;">
  <header class="page-header">
    <h1 style="margin:0;">Add Listing</h1>
    <p class="muted" style="margin:0;">Create a new listing for the latest drop.</p>
  </header>

  <form method="post" asp-page="/Admin/Listings/Create" class="form-card" enctype="multipart/form-data">
    <div asp-validation-summary="All" class="muted" style="font-size:13px;"></div>
    <div class="form-grid">
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Name</span>
        <input asp-for="Item.Name" />
        <span asp-validation-for="Item.Name" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Category</span>
        <input asp-for="Item.Category" />
        <span asp-validation-for="Item.Category" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Price</span>
        <input asp-for="Item.Price" type="number" step="0.01" min="0" />
        <span asp-validation-for="Item.Price" class="muted" style="font-size:12px;"></span>
      </label>
    </div>

    <label style="display:grid; gap:6px;">
      <span class="muted" style="font-size:13px;">Description</span>
      <textarea asp-for="Item.Description" rows="4"></textarea>
      <span asp-validation-for="Item.Description" class="muted" style="font-size:12px;"></span>
    </label>

    <div class="form-grid">
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Tags (comma-separated)</span>
        <input asp-for="Item.TagsCsv" placeholder="Vintage, Denim, Like-new" />
        <span asp-validation-for="Item.TagsCsv" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Quantity available (0 = unlimited)</span>
        <input asp-for="Item.DailyStock" type="number" min="0" step="1" />
        <span asp-validation-for="Item.DailyStock" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Condition notes</span>
        <input asp-for="Item.Allergens" />
        <span asp-validation-for="Item.Allergens" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:grid; gap:6px;">
        <span class="muted" style="font-size:13px;">Image Upload</span>
        <input asp-for="ImageFile" type="file" accept=".jpg,.jpeg,.png,.webp,.gif" />
        <span asp-validation-for="ImageFile" class="muted" style="font-size:12px;"></span>
      </label>
      <label style="display:flex; gap:8px; align-items:center;">
        <input asp-for="Item.IsAvailable" type="checkbox" />
        <span class="muted" style="font-size:13px;">Available</span>
      </label>
    </div>

    <div class="inline-actions">
      <button class="primary" type="submit">Save Item</button>
      <a class="button" href="/Admin/Listings">Cancel</a>
    </div>
  </form>
</section>

@section Scripts {
  <partial name="_ValidationScriptsPartial" />
}
